<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>PETSc.jl Documentation · Petsc.jl Documentation</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.5.0/styles/default.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Ubuntu+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="assets/documenter.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="../versions.js"></script></head><body><nav class="toc"><h1>Petsc.jl Documentation</h1><form class="search" action="search.html"><select id="version-selector" onChange="window.location.href=this.value"><option value="#" selected="selected" disabled="disabled">Version</option></select><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href="index.html">PETSc.jl Documentation</a><ul class="internal"><li><a class="toctext" href="#First-Part-1">First Part</a></li><li><a class="toctext" href="#Second-Part-1">Second Part</a></li></ul></li><li><a class="toctext" href="init.html">Initialization and Finalization</a></li><li><a class="toctext" href="vec.html">Vec Documentation</a></li><li><a class="toctext" href="vec_interface.html">Vec Interface</a></li><li><a class="toctext" href="mat.html">Mat Documentation</a></li><li><a class="toctext" href="mat_interface.html">Mat Interface</a></li><li><a class="toctext" href="constants.html">Constants</a></li><li><a class="toctext" href="ksp.html">KSP Documentation</a></li><li><a class="toctext" href="pc.html">PC Documentation</a></li><li><a class="toctext" href="options.html">Options Documentation</a></li><li><a class="toctext" href="error.html">Error Handling Documentation</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="index.html">PETSc.jl Documentation</a></li></ul><a class="edit-page" href="https://github.com/OptimalDesignLab/PETSc2.jl/tree/d83eb5206581a3aeac9e5e7f859bc896ed1394f7/docs/src/index.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/></header><h1><a class="nav-anchor" id="PETSc.jl-Documentation-1" href="#PETSc.jl-Documentation-1">PETSc.jl Documentation</a></h1><p>This package provides an interface to the Portable, Extensible Toolkit for Scientific Computation (<a href="https://www.mcs.anl.gov/petsc/">PETSc</a>). Both PETSc and these wrappers are designed for solving the systems of equations that arise from discretizations of partial differential equations. Note that PETSc is not a general-purpose sparse-matrix library.</p><p>Before using this any features of package, users <em>must</em> read the corresponding section of the <a href="http://www.mcs.anl.gov/petsc/petsc-current/docs/manual.pdf">PETSc manual</a>.</p><p>This package consists of two parts.  The first part is a direct wrapping of (parts of) the PETSc API.  Users should refer to the  <a href="https://www.mcs.anl.gov/petsc/documentation/index.html">PETSc documentation</a> for these functions.  The documentation on this website only notes differences from the PETSc documentation.</p><p>The second part is a small API that can be consistently and efficiently applied to both PETSc and regular Julia arrays (including <code>SparseMatrixCSC</code>).</p><h2><a class="nav-anchor" id="First-Part-1" href="#First-Part-1">First Part</a></h2><ul><li><a href="vec.html#Vec-Documentation-1">Vec Documentation</a></li><li><a href="mat.html#Mat-Documentation-1">Mat Documentation</a></li><li><a href="constants.html#Constants-1">Constants</a></li><li><a href="ksp.html#KSP-Documentation-1">KSP Documentation</a></li><li><a href="pc.html#PC-Documentation-1">PC Documentation</a></li><li><a href="options.html#Options-Documentation-1">Options Documentation</a></li><li><a href="error.html#Error-Handling-Documentation-1">Error Handling Documentation</a></li></ul><p>Note that PETSc has an extensive API and not all of it has been wrapped yet. In most cases, the PETSc options database can be used rather than the API. For example, there is an <a href="http://www.mcs.anl.gov/petsc/petsc-current/docs/manualpages/KSP/index.html">extensive API</a> for setting different options for the Krylov solver, but they can be set using the options database as follows:</p><pre><code class="language-none"># Create first KSP

# define options
opts = Dict{ASCIIString, ASCIIString}(
&quot;-ksp_gmres_modifiedgramschmidt =&gt; &quot;&quot;
&quot;-ksp_gmres_restart&quot; =&gt; &quot;30,
)

PetscSetOptions(opts)  # set options in PETSc&#39;s database
ksp_one = KSP(MPI.COMM_WORLD)
KSPSetFromOptions(ksp_one)  # copy options from PETSc&#39;s database to the ksp object
  
# Create a second KSP
# after KSPSetFromOptions(ksp_one) is called, we are free to change the options
# in PETSc&#39;s databse
opts[&quot;-ksp_gmres_restart&quot;] = &quot;60&quot;
PetscSetOptions(opts)  
ksp_two = KSP(MPI.COMM_WORLD)
KSPSetFromOptions(ksp_two)</code></pre><p>The only case where PETSc&#39;s API is needed is when the options need to be changed as the program runs (for example, inexact Newton-Krylov requires changing the KSP solve tolerance dynamically).</p><h2><a class="nav-anchor" id="Second-Part-1" href="#Second-Part-1">Second Part</a></h2><p>This small API is implemented efficiently for <code>Array</code>, <code>SparseMatrixCSC</code> as well as <code>PetscMat</code> and <code>PetscVec</code>.</p><ul><li><a href="vec_interface.html#Vec-Interface-1">Vec Interface</a></li><li><a href="mat_interface.html#Mat-Interface-1">Mat Interface</a></li></ul><footer><hr/><a class="next" href="init.html"><span class="direction">Next</span><span class="title">Initialization and Finalization</span></a></footer></article></body></html>
