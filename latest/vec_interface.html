<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Vec Interface · Petsc2.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Petsc2.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">PETSc2.jl Documentation</a></li><li><a class="toctext" href="build.html">Build System</a></li><li><a class="toctext" href="init.html">Initialization and Finalization</a></li><li><a class="toctext" href="vec.html">Vec Documentation</a></li><li class="current"><a class="toctext" href="vec_interface.html">Vec Interface</a><ul class="internal"></ul></li><li><a class="toctext" href="mat.html">Mat Documentation</a></li><li><a class="toctext" href="mat_interface.html">Mat Interface</a></li><li><a class="toctext" href="constants.html">Constants</a></li><li><a class="toctext" href="ksp.html">KSP Documentation</a></li><li><a class="toctext" href="pc.html">PC Documentation</a></li><li><a class="toctext" href="options.html">Options Documentation</a></li><li><a class="toctext" href="error.html">Error Handling Documentation</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="vec_interface.html">Vec Interface</a></li></ul><a class="edit-page" href="https://github.com/OptimalDesignLab/PETSc2.jl/blob/master/docs/src/vec_interface.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Vec Interface</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Vec-Interface-1" href="#Vec-Interface-1">Vec Interface</a></h1><p>The purpose of the functions on this page is to provide a set of functions that are implemented efficiently for both <code>AbstractVector</code> and <a href="vec.html#PETSc2.PetscVec"><code>PetscVec</code></a>. In some cases <code>Base</code> functions are extended with new methods for  <a href="vec.html#PETSc2.PetscVec"><code>PetscVec</code></a>, in other cases new functions are created and defined for both <code>AbstractVector</code> and <a href="vec.html#PETSc2.PetscVec"><code>PetscVec</code></a>. Using these functions enables some amount of generic programming, particularly when an operation is applied to either the local portion of a parallel vector or when an operation is applied uniformly across all processors.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PETSc2.PetscVec-Tuple{Integer,Any,MPI.Comm}" href="#PETSc2.PetscVec-Tuple{Integer,Any,MPI.Comm}"><code>PETSc2.PetscVec</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Create a PetscVec, setting both the type and the format.  Users can specify   either the local or global dimensions</p></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PETSc2.jl/blob/86a9bd60b1241646f94e4f1f851c211454de98be/src/vec_interface.jl#L19-L22">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PETSc2.PetscVec-Tuple{Integer,MPI.Comm}" href="#PETSc2.PetscVec-Tuple{Integer,MPI.Comm}"><code>PETSc2.PetscVec</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Create a vector of a given size.  Users can specify either the global   dimension or the local dimension</p></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PETSc2.jl/blob/86a9bd60b1241646f94e4f1f851c211454de98be/src/vec_interface.jl#L8-L11">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PETSc2.PetscDestroy-Tuple{AbstractArray{T,1} where T}" href="#PETSc2.PetscDestroy-Tuple{AbstractArray{T,1} where T}"><code>PETSc2.PetscDestroy</code></a> — <span class="docstring-category">Method</span>.</div><div><p>PetscDestroy for AbstractVector.  No-op</p></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PETSc2.jl/blob/86a9bd60b1241646f94e4f1f851c211454de98be/src/vec_interface.jl#L29-L31">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PETSc2.PetscView" href="#PETSc2.PetscView"><code>PETSc2.PetscView</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Print non-Petsc vector to a given IO (a Julia IO, not a Petsc IO).  Defaults   to printing to STDOUT.</p><p><strong>Inputs</strong></p><ul><li><p>b: AbstractVector</p></li><li><p>f: IO, defaults to STDOUT</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PETSc2.jl/blob/86a9bd60b1241646f94e4f1f851c211454de98be/src/vec_interface.jl#L158-L166">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PETSc2.assembly_begin-Tuple{PETSc2.PetscVec}" href="#PETSc2.assembly_begin-Tuple{PETSc2.PetscVec}"><code>PETSc2.assembly_begin</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Calls <a href="vec.html#PETSc2.VecAssemblyBegin-Tuple{PETSc2.PetscVec}"><code>VecAssemblyBegin</code></a>.  No-op for Julia vectors</p><p><strong>Inputs</strong></p><ul><li><p>vec: AbstractVector</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PETSc2.jl/blob/86a9bd60b1241646f94e4f1f851c211454de98be/src/vec_interface.jl#L130-L136">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PETSc2.assembly_end-Tuple{PETSc2.PetscVec}" href="#PETSc2.assembly_end-Tuple{PETSc2.PetscVec}"><code>PETSc2.assembly_end</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Calls <a href="vec.html#PETSc2.VecAssemblyEnd-Tuple{PETSc2.PetscVec}"><code>VecAssemblyEnd</code></a>.  No-op for Julia vectors</p><p><strong>Inputs</strong></p><ul><li><p>vec: AbstractVector</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PETSc2.jl/blob/86a9bd60b1241646f94e4f1f851c211454de98be/src/vec_interface.jl#L144-L150">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PETSc2.diagonal_shift!-Tuple{PETSc2.PetscVec,Number}" href="#PETSc2.diagonal_shift!-Tuple{PETSc2.PetscVec,Number}"><code>PETSc2.diagonal_shift!</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Add a given value to all elements of the vector</p><p><strong>Inputs</strong></p><ul><li><p>A: AbstractVector</p></li><li><p>a: number to shift by</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PETSc2.jl/blob/86a9bd60b1241646f94e4f1f851c211454de98be/src/vec_interface.jl#L328-L335">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PETSc2.fill_zero!-Tuple{PETSc2.PetscVec}" href="#PETSc2.fill_zero!-Tuple{PETSc2.PetscVec}"><code>PETSc2.fill_zero!</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Fill a vector with zeros</p><p><strong>Inputs</strong></p><ul><li><p>A: AbstractVector</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PETSc2.jl/blob/86a9bd60b1241646f94e4f1f851c211454de98be/src/vec_interface.jl#L247-L253">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PETSc2.get_values1!-Tuple{AbstractArray{T,1} where T,Array{Int32,N} where N,Array}" href="#PETSc2.get_values1!-Tuple{AbstractArray{T,1} where T,Array{Int32,N} where N,Array}"><code>PETSc2.get_values1!</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Method for AbstractVector</p></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PETSc2.jl/blob/86a9bd60b1241646f94e4f1f851c211454de98be/src/vec_interface.jl#L119-L121">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PETSc2.get_values1!-Tuple{PETSc2.PetscVec,Array{Int32,N} where N,Array{Float64,N} where N}" href="#PETSc2.get_values1!-Tuple{PETSc2.PetscVec,Array{Int32,N} where N,Array{Float64,N} where N}"><code>PETSc2.get_values1!</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Like <a href="mat_interface.html#PETSc2.set_values1!"><code>set_values1!</code></a> but for retrieving values.  Note that Petsc   only supports retrieving values from the local part of the vector</p><p><strong>Inputs</strong></p><ul><li><p>vec: a vector, can be a julia vector or a Petsc vector.</p></li></ul><p><strong>Inputs/Outputs</strong></p><ul><li><p>idx: indices to retrieve</p></li><li><p>vals: array to put the values into</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PETSc2.jl/blob/86a9bd60b1241646f94e4f1f851c211454de98be/src/vec_interface.jl#L90-L104">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PETSc2.length_global-Tuple{Union{AbstractArray{T,1} where T, PETSc2.PetscVec}}" href="#PETSc2.length_global-Tuple{Union{AbstractArray{T,1} where T, PETSc2.PetscVec}}"><code>PETSc2.length_global</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Length of global vector</p><p><strong>Inputs</strong></p><ul><li><p>A: AbstractVector</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PETSc2.jl/blob/86a9bd60b1241646f94e4f1f851c211454de98be/src/vec_interface.jl#L212-L219">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PETSc2.length_local-Tuple{Union{AbstractArray{T,1} where T, PETSc2.PetscVec}}" href="#PETSc2.length_local-Tuple{Union{AbstractArray{T,1} where T, PETSc2.PetscVec}}"><code>PETSc2.length_local</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Length of local part of vector</p><p><strong>Inputs</strong></p><ul><li><p>A: AbstractVector</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PETSc2.jl/blob/86a9bd60b1241646f94e4f1f851c211454de98be/src/vec_interface.jl#L201-L207">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PETSc2.local_indices-Tuple{PETSc2.PetscVec}" href="#PETSc2.local_indices-Tuple{PETSc2.PetscVec}"><code>PETSc2.local_indices</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Returns a UnitRange containing the (1-based) global indices owned by this   process.</p><p><strong>Inputs</strong></p><ul><li><p>A: AbstractVector</p></li></ul><p><strong>Outputs</strong></p><ul><li><p>rng: UnitRange</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PETSc2.jl/blob/86a9bd60b1241646f94e4f1f851c211454de98be/src/vec_interface.jl#L224-L235">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PETSc2.set_values1!" href="#PETSc2.set_values1!"><code>PETSc2.set_values1!</code></a> — <span class="docstring-category">Function</span>.</div><div><p>1-based indexing for both regular vectors and Petsc vector</p><p><strong>Inputs</strong></p><ul><li><p>vals: values to add/insert into the vector, must be length(idx)</p></li><li><p>flag: INSERT_VALUES or ADD_VALUES</p></li></ul><p><strong>Inputs/Outputs</strong></p><ul><li><p>vec: the vector, can be a Petsc vector or a julia vector</p></li><li><p>idx: (global) indices to add/insert vals into</p></li></ul><p>idx is listed as input/output because it may be modified during the function.   It will be returned to its original values when the function exits.   This is necessary to accomodate Petscs zero-based indexing interface</p></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PETSc2.jl/blob/86a9bd60b1241646f94e4f1f851c211454de98be/src/vec_interface.jl#L39-L57">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PETSc2.set_values1!-Union{Tuple{AbstractArray{T,1} where T,Array{Int32,N} where N,Array{T,N} where N,Integer}, Tuple{AbstractArray{T,1} where T,Array{Int32,N} where N,Array{T,N} where N}, Tuple{T}} where T" href="#PETSc2.set_values1!-Union{Tuple{AbstractArray{T,1} where T,Array{Int32,N} where N,Array{T,N} where N,Integer}, Tuple{AbstractArray{T,1} where T,Array{Int32,N} where N,Array{T,N} where N}, Tuple{T}} where T"><code>PETSc2.set_values1!</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Method for AbstractVector</p></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PETSc2.jl/blob/86a9bd60b1241646f94e4f1f851c211454de98be/src/vec_interface.jl#L72-L74">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PETSc2.size_global-Tuple{PETSc2.PetscVec}" href="#PETSc2.size_global-Tuple{PETSc2.PetscVec}"><code>PETSc2.size_global</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Size of global vector</p><p><strong>Inputs</strong></p><ul><li><p>A: AbstractVector</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PETSc2.jl/blob/86a9bd60b1241646f94e4f1f851c211454de98be/src/vec_interface.jl#L186-L192">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PETSc2.size_local-Tuple{PETSc2.PetscVec}" href="#PETSc2.size_local-Tuple{PETSc2.PetscVec}"><code>PETSc2.size_local</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Size of local part of vector</p><p><strong>Inputs</strong></p><ul><li><p>A: AbstractVector</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PETSc2.jl/blob/86a9bd60b1241646f94e4f1f851c211454de98be/src/vec_interface.jl#L171-L177">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.LinAlg.dot-Tuple{PETSc2.PetscVec,PETSc2.PetscVec}" href="#Base.LinAlg.dot-Tuple{PETSc2.PetscVec,PETSc2.PetscVec}"><code>Base.LinAlg.dot</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Base.dot</p><p>Dot product where the <em>first</em> vector is conjugated.  This is is the reverse   of VecDot, where the <em>second</em> vector is conjugated</p></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PETSc2.jl/blob/86a9bd60b1241646f94e4f1f851c211454de98be/src/vec_interface.jl#L366-L371">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.LinAlg.norm" href="#Base.LinAlg.norm"><code>Base.LinAlg.norm</code></a> — <span class="docstring-category">Function</span>.</div><div><p>Base.norm</p></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PETSc2.jl/blob/86a9bd60b1241646f94e4f1f851c211454de98be/src/vec_interface.jl#L347-L349">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.LinAlg.scale!-Tuple{PETSc2.PetscVec,Number}" href="#Base.LinAlg.scale!-Tuple{PETSc2.PetscVec,Number}"><code>Base.LinAlg.scale!</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Base.scale!</p></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PETSc2.jl/blob/86a9bd60b1241646f94e4f1f851c211454de98be/src/vec_interface.jl#L320-L322">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.copy!-Tuple{PETSc2.PetscVec,PETSc2.PetscVec}" href="#Base.copy!-Tuple{PETSc2.PetscVec,PETSc2.PetscVec}"><code>Base.copy!</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Base.copy!</p></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PETSc2.jl/blob/86a9bd60b1241646f94e4f1f851c211454de98be/src/vec_interface.jl#L304-L306">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.copy-Tuple{PETSc2.PetscVec}" href="#Base.copy-Tuple{PETSc2.PetscVec}"><code>Base.copy</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Base.copy</p></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PETSc2.jl/blob/86a9bd60b1241646f94e4f1f851c211454de98be/src/vec_interface.jl#L293-L295">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.fill!-Tuple{PETSc2.PetscVec,Any}" href="#Base.fill!-Tuple{PETSc2.PetscVec,Any}"><code>Base.fill!</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Base.fill! for Petsc vectors</p></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PETSc2.jl/blob/86a9bd60b1241646f94e4f1f851c211454de98be/src/vec_interface.jl#L264-L266">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.maximum-Tuple{PETSc2.PetscVec}" href="#Base.maximum-Tuple{PETSc2.PetscVec}"><code>Base.maximum</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Base.maximum</p></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PETSc2.jl/blob/86a9bd60b1241646f94e4f1f851c211454de98be/src/vec_interface.jl#L273-L275">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.minimum-Tuple{PETSc2.PetscVec}" href="#Base.minimum-Tuple{PETSc2.PetscVec}"><code>Base.minimum</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Base.minimum</p></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PETSc2.jl/blob/86a9bd60b1241646f94e4f1f851c211454de98be/src/vec_interface.jl#L283-L285">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.sum-Tuple{PETSc2.PetscVec}" href="#Base.sum-Tuple{PETSc2.PetscVec}"><code>Base.sum</code></a> — <span class="docstring-category">Method</span>.</div><div><p>Base.sum</p></div><a class="source-link" target="_blank" href="https://github.com/OptimalDesignLab/PETSc2.jl/blob/86a9bd60b1241646f94e4f1f851c211454de98be/src/vec_interface.jl#L377-L379">source</a></section><footer><hr/><a class="previous" href="vec.html"><span class="direction">Previous</span><span class="title">Vec Documentation</span></a><a class="next" href="mat.html"><span class="direction">Next</span><span class="title">Mat Documentation</span></a></footer></article></body></html>
